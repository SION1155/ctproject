<html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>60ê°‘ìë¡œ ì—°ë„ í‘œí˜„í•˜ê¸°</title>
  <style>
    body { font-family: sans-serif; margin: 40px; }
    h1 { background: #0073cf; color: white; padding: 10px; }
    .section { margin-top: 20px; }
    #questionBox { border: 2px solid #0073cf; padding: 20px; margin: 10px 0; background: #f0f8ff; }
    #timer { font-weight: bold; color: red; }
    button { padding: 10px 15px; margin: 5px; }
  </style>
</head>
<body>
  <h1>íƒ€ì´í‹€: 60ê°‘ìë¡œ ì—°ë„ í‘œí˜„í•˜ê¸°</h1>
  <h2>ëŒ€ìƒ ë° êµê³¼: ê³ 2 (í•œë¬¸)</h2>

  <div class="section">
    <strong>ì§€ë¬¸:</strong>
    <p>2024ë…„ì€ 'ê°‘ì§„ë…„'ì…ë‹ˆë‹¤.<br>
      ê°‘ì§„ë…„ì— íƒœì–´ë‚œ ì•„ì´ê°€ í•œêµ­ ë‚˜ì´ë¡œ 10ì‚´ì´ ë˜ëŠ” í•´ë¥¼ 60ê°‘ìë¡œ ë¬´ì—‡ì´ë¼ í‘œí˜„í•  ìˆ˜ ìˆì„ê¹Œìš”?</p>
  </div>

  <div class="section">
    <strong>ê·œì¹™:</strong>
    <ul>
      <li>60ê°‘ìëŠ” ì²œê°„(10ê°œ)ê³¼ ì§€ì§€(12ê°œ)ê°€ ìˆœì°¨ì ìœ¼ë¡œ ê²°í•©í•˜ì—¬ 60ë…„ë§ˆë‹¤ ë°˜ë³µë©ë‹ˆë‹¤.</li>
      <li>ì²œê°„: ê°‘, ì„, ë³‘, ì •, ë¬´, ê¸°, ê²½, ì‹ , ì„, ê³„</li>
      <li>ì§€ì§€: ì, ì¶•, ì¸, ë¬˜, ì§„, ì‚¬, ì˜¤, ë¯¸, ì‹ , ìœ , ìˆ , í•´</li>
      <li>ì˜ˆ: 2024ë…„ â†’ ê°‘ì§„ / 2025ë…„ â†’ ì„ì‚¬ / 2026ë…„ â†’ ë³‘ì˜¤ â€¦</li>
    </ul>
  </div>

  <div class="section">
    <label>ê¸°ì¤€ ì—°ë„:</label>
    <select id="baseYear">
      <script>
        for(let i=1984; i<=2025; i++) {
          document.write(`<option value="${i}" ${i==2024 ? "selected" : ""}>${i}</option>`);
        }
      </script>
    </select>

    <label>ëª©í‘œ ì—°ë„:</label>
    <select id="targetYear">
      <script>
        for(let i=1985; i<=2085; i++) {
          document.write(`<option value="${i}" ${i==2033 ? "selected" : ""}>${i}</option>`);
        }
      </script>
    </select>

    <label>ì œí•œ ì‹œê°„:</label>
    <select id="timeLimit">
      <option value="30">30ì´ˆ</option>
      <option value="60">1ë¶„</option>
      <option value="90">1ë¶„ 30ì´ˆ</option>
      <option value="120">2ë¶„</option>
    </select>

    <button onclick="startQuiz()">ë¬¸ì œ í’€ê¸°</button>
  </div>

  <div id="questionBox" class="section" style="display:none;">
    <p><strong>ë¬¸ì œ:</strong> ê¸°ì¤€ì—°ë„ <span id="baseText"></span>ë…„ë¶€í„° <span id="targetText"></span>ë…„ê¹Œì§€ì˜ ê°„ê²©ì„ ê³„ì‚°í•˜ì—¬, í•´ë‹¹ ì—°ë„ë¥¼ 60ê°‘ìë¡œ ë§íˆì„¸ìš”.</p>
    <p><strong>ë‚¨ì€ ì‹œê°„: <span id="timer"></span></strong></p>
    <div id="options"></div>
  </div>

  <div id="popup" style="display:none; background:#fff; border:2px solid black; padding:20px; position:fixed; top:30%; left:30%; width:300px;">
    <p>â° ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</p>
    <button onclick="restart()">ë‹¤ì‹œ ë„ì „</button>
  </div>

  <script>
    const ì²œê°„ = ["ê°‘", "ì„", "ë³‘", "ì •", "ë¬´", "ê¸°", "ê²½", "ì‹ ", "ì„", "ê³„"];
    const ì§€ì§€ = ["ì", "ì¶•", "ì¸", "ë¬˜", "ì§„", "ì‚¬", "ì˜¤", "ë¯¸", "ì‹ ", "ìœ ", "ìˆ ", "í•´"];
    const baseStartIndex = 40; // 2024ë…„ == 0ë²ˆì§¸ë¡œ ê°„ì£¼

    let timerInterval;

    function getGapja(year) {
      const index = (year - 1984) % 60;
      const ì²œê°„Index = index % 10;
      const ì§€ì§€Index = index % 12;
      return ì²œê°„[ì²œê°„Index] + ì§€ì§€[ì§€ì§€Index] + "ë…„";
    }

    function startQuiz() {
      const baseYear = parseInt(document.getElementById('baseYear').value);
      const targetYear = parseInt(document.getElementById('targetYear').value);
      const timeLimit = parseInt(document.getElementById('timeLimit').value);

      document.getElementById("baseText").innerText = baseYear;
      document.getElementById("targetText").innerText = targetYear;
      document.getElementById("questionBox").style.display = 'block';

      const answer = getGapja(targetYear);

      // ë³´ê¸°ë¥¼ ëœë¤í•˜ê²Œ êµ¬ì„±
      let options = new Set();
      options.add(answer);
      while (options.size < 4) {
        const offset = Math.floor(Math.random() * 60);
        options.add(getGapja(1984 + offset));
      }
      let optionsArray = Array.from(options).sort(() => Math.random() - 0.5);

      let html = "";
      optionsArray.forEach((opt, idx) => {
        html += `<button onclick="checkAnswer(this, '${opt}', '${answer}')">${idx+1}) ${opt}</button><br>`;
      });
      document.getElementById("options").innerHTML = html;

      // íƒ€ì´ë¨¸ ì‹œì‘
      let timeLeft = timeLimit;
      document.getElementById("timer").innerText = `${timeLeft}ì´ˆ`;
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = `${timeLeft}ì´ˆ`;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          document.getElementById("popup").style.display = 'block';
        }
      }, 1000);
    }

    function checkAnswer(button, selected, correct) {
      clearInterval(timerInterval);
      if (selected === correct) {
        alert("ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰");
      } else {
        alert(`ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ ${correct}ì…ë‹ˆë‹¤.`);
      }
    }

    function restart() {
      document.getElementById("popup").style.display = "none";
      startQuiz();
    }
  </script>
</body>
</html>
